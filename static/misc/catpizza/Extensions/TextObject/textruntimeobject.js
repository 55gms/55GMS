var gdjs;(function(r){class d extends r.RuntimeObject{constructor(t,s){super(t,s);this._useGradient=!1;this._gradient=[];this._gradientType="";this.opacity=255;this._wrapping=!1;this._wrappingWidth=100;this._padding=5;this._scaleX=1;this._scaleY=1;const e=s.content;this._characterSize=Math.max(1,e.characterSize),this._fontName=e.font,this._bold=e.bold,this._italic=e.italic,this._underlined=e.underlined,this._color=r.rgbOrHexToRGBColor(e.color),this._str=e.text,this._textAlign=e.textAlignment||"left",this._verticalTextAlignment=e.verticalTextAlignment||"top",this._isOutlineEnabled=e.isOutlineEnabled,this._outlineThickness=e.outlineThickness,this._outlineColor=r.rgbOrHexToRGBColor(e.outlineColor),this._shadow=e.isShadowEnabled,this._shadowColor=r.rgbOrHexToRGBColor(e.shadowColor),this._shadowOpacity=e.shadowOpacity,this._shadowDistance=e.shadowDistance,this._shadowBlur=e.shadowBlurRadius,this._shadowAngle=e.shadowAngle,this._renderer=new r.TextRuntimeObjectRenderer(this,t),this.onCreated()}updateFromObjectData(t,s){const e=t.content,i=s.content;return e.characterSize!==i.characterSize&&this.setCharacterSize(i.characterSize),e.font!==i.font&&this.setFontName(i.font),e.bold!==i.bold&&this.setBold(i.bold),e.italic!==i.italic&&this.setItalic(i.italic),e.color!==i.color&&this.setColor(i.color),e.text!==i.text&&this.setText(i.text),e.underlined!==i.underlined?!1:(e.textAlignment!==i.textAlignment&&this.setTextAlignment(i.textAlignment),e.verticalTextAlignment!==i.verticalTextAlignment&&this.setVerticalTextAlignment(i.verticalTextAlignment),e.isOutlineEnabled!==i.isOutlineEnabled&&this.setOutlineEnabled(i.isOutlineEnabled),e.outlineThickness!==i.outlineThickness&&this.setOutlineThickness(i.outlineThickness),e.outlineColor!==i.outlineColor&&this.setOutlineColor(i.outlineColor),e.isShadowEnabled!==i.isShadowEnabled&&this.showShadow(i.isShadowEnabled),e.shadowColor!==i.shadowColor&&this.setShadowColor(i.shadowColor),e.shadowOpacity!==i.shadowOpacity&&this.setShadowOpacity(i.shadowOpacity),e.shadowDistance!==i.shadowDistance&&this.setShadowDistance(i.shadowDistance),e.shadowAngle!==i.shadowAngle&&this.setShadowAngle(i.shadowAngle),e.shadowBlurRadius!==i.shadowBlurRadius&&this.setShadowBlurRadius(i.shadowBlurRadius),!0)}getNetworkSyncData(){return{...super.getNetworkSyncData(),str:this._str,o:this.opacity,cs:this._characterSize,fn:this._fontName,b:this._bold,i:this._italic,u:this._underlined,c:this._color,scale:this.getScale(),ta:this._textAlign,wrap:this._wrapping,wrapw:this._wrappingWidth,oena:this._isOutlineEnabled,ot:this._outlineThickness,oc:this._outlineColor,sh:this._shadow,shc:this._shadowColor,sho:this._shadowOpacity,shd:this._shadowDistance,sha:this._shadowAngle,shb:this._shadowBlur,pad:this._padding}}updateFromNetworkSyncData(t){super.updateFromNetworkSyncData(t),t.str!==void 0&&this.setText(t.str),t.o!==void 0&&this.setOpacity(t.o),t.cs!==void 0&&this.setCharacterSize(t.cs),t.fn!==void 0&&this.setFontName(t.fn),t.b!==void 0&&this.setBold(t.b),t.i!==void 0&&this.setItalic(t.i),t.u!==void 0&&(this._underlined=t.u),t.c!==void 0&&(this._color=t.c),t.scale!==void 0&&this.setScale(t.scale),t.ta!==void 0&&this.setTextAlignment(t.ta),t.ta!==void 0&&this.setVerticalTextAlignment(t.ta),t.wrap!==void 0&&this.setWrapping(t.wrap),t.wrapw!==void 0&&this.setWrappingWidth(t.wrapw),t.oena!==void 0&&this.setOutlineEnabled(t.oena),t.ot!==void 0&&this.setOutlineThickness(t.ot),t.oc!==void 0&&(this._outlineColor=t.oc),t.sh!==void 0&&this.showShadow(t.sh),t.shc!==void 0&&(this._shadowColor=t.shc),t.sho!==void 0&&this.setShadowOpacity(t.sho),t.shd!==void 0&&this.setShadowDistance(t.shd),t.sha!==void 0&&this.setShadowAngle(t.sha),t.shb!==void 0&&this.setShadowBlurRadius(t.shb),t.pad!==void 0&&this.setPadding(t.pad)}getRendererObject(){return this._renderer.getRendererObject()}update(t){this._renderer.ensureUpToDate()}onDestroyed(){super.onDestroyed(),this._renderer.destroy()}extraInitializationFromInitialInstance(t){t.customSize?(this.setWrappingWidth(t.width),this.setWrapping(!0)):this.setWrapping(!1),t.opacity!==void 0&&this.setOpacity(t.opacity)}_updateTextPosition(){this.invalidateHitboxes(),this._renderer.updatePosition()}setX(t){super.setX(t),this._updateTextPosition()}setY(t){super.setY(t),this._updateTextPosition()}setAngle(t){super.setAngle(t),this._renderer.updateAngle()}setOpacity(t){t<0&&(t=0),t>255&&(t=255),this.opacity=t,this._renderer.updateOpacity()}getOpacity(){return this.opacity}getString(){return this.getText()}setString(t){this.setText(t)}getText(){return this._str}setText(t){t!==this._str&&(this._str=t,this._renderer.updateString(),this._updateTextPosition())}getCharacterSize(){return this._characterSize}setCharacterSize(t){t<=1&&(t=1),this._characterSize=t,this._renderer.updateStyle()}setFontName(t){this._fontName=t,this._renderer.updateStyle()}isBold(){return this._bold}setBold(t){this._bold=t,this._renderer.updateStyle()}isItalic(){return this._italic}setItalic(t){this._italic=t,this._renderer.updateStyle()}getWidth(){return this._wrapping?this._wrappingWidth:this._renderer.getWidth()}getHeight(){return this._renderer.getHeight()}getScaleMean(){return(Math.abs(this._scaleX)+Math.abs(this._scaleY))/2}getScale(){const t=Math.abs(this._scaleX),s=Math.abs(this._scaleY);return t===s?t:Math.sqrt(t*s)}getScaleX(){return this._scaleX}getScaleY(){return this._scaleY}setScale(t){this._scaleX===t&&this._scaleY===t||(this._scaleX=t,this._scaleY=t,this._renderer.setScale(t),this.invalidateHitboxes())}setScaleX(t){this._scaleX!==t&&(this._scaleX=t,this._renderer.setScaleX(t),this.invalidateHitboxes())}setScaleY(t){this._scaleY!==t&&(this._scaleY=t,this._renderer.setScaleY(t),this.invalidateHitboxes())}setColor(t){const s=t.split(";");s.length<3||(this._color[0]=parseInt(s[0],10),this._color[1]=parseInt(s[1],10),this._color[2]=parseInt(s[2],10),this._useGradient=!1,this._renderer.updateStyle())}getColor(){return this._color[0]+";"+this._color[1]+";"+this._color[2]}setVerticalTextAlignment(t){this._verticalTextAlignment=t,this._renderer.updateStyle()}getVerticalTextAlignment(){return this._verticalTextAlignment}setTextAlignment(t){this._textAlign=t,this._renderer.updateStyle()}getTextAlignment(){return this._textAlign}isWrapping(){return this._wrapping}setWrapping(t){this._wrapping!==t&&(this._wrapping=t,this._renderer.updateStyle(),this.invalidateHitboxes())}getWrappingWidth(){return this._wrappingWidth}setWrappingWidth(t){t<=1&&(t=1),this._wrappingWidth!==t&&(this._wrappingWidth=t,this._wrapping&&(this._renderer.updateStyle(),this.invalidateHitboxes()))}setWidth(t){this.setWrappingWidth(t)}getDrawableY(){return this.getY()-(this._verticalTextAlignment==="center"?this.getHeight()/2:this._verticalTextAlignment==="bottom"?this.getHeight():0)}setOutline(t,s){const e=t.split(";");e.length<3||(this._outlineColor[0]=parseInt(e[0],10),this._outlineColor[1]=parseInt(e[1],10),this._outlineColor[2]=parseInt(e[2],10),this._outlineThickness=s,this._renderer.updateStyle())}isOutlineEnabled(){return this._isOutlineEnabled}setOutlineEnabled(t){this._isOutlineEnabled=t,this._renderer.updateStyle()}getOutlineThickness(){return this._outlineThickness}setOutlineThickness(t){this._outlineThickness=t,this._renderer.updateStyle()}setOutlineColor(t){this._outlineColor=r.rgbOrHexToRGBColor(t),this._renderer.updateStyle()}setShadow(t,s,e,i){const n=t.split(";");n.length<3||(this._shadowColor[0]=parseInt(n[0],10),this._shadowColor[1]=parseInt(n[1],10),this._shadowColor[2]=parseInt(n[2],10),this._shadowDistance=s,this._shadowBlur=e,this._shadowAngle=i,this._shadow=!0,this._renderer.updateStyle())}isShadowEnabled(){return this._shadow}showShadow(t){this._shadow=t,this._renderer.updateStyle()}getShadowOpacity(){return this._shadowOpacity}setShadowOpacity(t){this._shadowOpacity=t,this._renderer.updateStyle()}getShadowDistance(){return this._shadowDistance}setShadowDistance(t){this._shadowDistance=t,this._renderer.updateStyle()}getShadowAngle(){return this._shadowAngle}setShadowAngle(t){this._shadowAngle=t,this._renderer.updateStyle()}getShadowBlurRadius(){return this._shadowBlur}setShadowBlurRadius(t){this._shadowBlur=t,this._renderer.updateStyle()}setShadowColor(t){this._shadowColor=r.rgbOrHexToRGBColor(t),this._renderer.updateStyle()}setGradient(t,s,e,i,n){const o=s.split(";"),a=e.split(";"),h=i.split(";"),l=n.split(";");this._gradient=[],o.length==3&&this._gradient.push([parseInt(o[0],10),parseInt(o[1],10),parseInt(o[2],10)]),a.length==3&&this._gradient.push([parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]),h.length==3&&this._gradient.push([parseInt(h[0],10),parseInt(h[1],10),parseInt(h[2],10)]),l.length==3&&this._gradient.push([parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]),this._gradientType=t,this._useGradient=this._gradient.length>1,this._renderer.updateStyle()}getPadding(){return this._padding}setPadding(t){this._padding=t,this._renderer.updateStyle()}}r.TextRuntimeObject=d,r.registerObject("TextObject::Text",r.TextRuntimeObject)})(gdjs||(gdjs={}));
//# sourceMappingURL=textruntimeobject.js.map
