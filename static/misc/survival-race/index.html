<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="robots" content="noindex, nofollow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Survival Race</title>
    <style>
        html,
        body {
            background: #000;
            width: 100%;
            height: 100%;
            overflow: visible;
            padding: 0;
            margin: 0;
        }

        div#gameContainer {
            background: transparent !important;
            position: absolute;
        }

        div#gameContainer canvas {
            position: absolute;
        }

        div#gameContainer canvas[data-pixel-art="true"] {
            position: absolute;
            image-rendering: optimizeSpeed;
            image-rendering: -webkit-crisp-edges;
            image-rendering: -moz-crisp-edges;
            image-rendering: -o-crisp-edges;
            image-rendering: crisp-edges;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: optimize-contrast;
            image-rendering: pixelated;
            -ms-interpolation-mode: nearest-neighbor;
        }
    </style>
</head>

<body>
    <div id="gameContainer">
        <canvas id="unity-canvas" data-pixel-art=""></canvas>
        <script src="Build/yandexBrotli.loader.js"></script>
        <script>
            let myGameInstance = null;
            let ysdk = null;
            let player = null;
            let leaderboard;
            let payments = null;
            let initGame = false;
            let nowFullAdOpen = false;

            function InitGame() {
                console.log('Init Game Success');
                initGame = true;
            }

            function FullAdShow() { }

            function RewardedShow(id) { }

            function StickyAdActivity(show) { }

            function InitPayments() { }

            function BuyPayments(id) { }
            let callCount_GetPayments = 0;

            function GetPayments() { }

            function ConsumePurchase(id) { }

            function ConsumePurchases() { }

            function InitLeaderboard() { }

            function SetLeaderboardScores(_name, score) { }

            function GetLeaderboardScores(nameLB, maxPlayers, quantityTop, quantityAround, photoSize, auth) { }

            function EntriesLB(res, maxPlayers, photoSize) {
                let LeaderboardEntriesText = 'no data';
                let playersCount = 0;
                let ranks = new Array(playersCount);
                let photos = new Array(playersCount);
                let mames = new Array(playersCount);
                let scores = new Array(playersCount);
                let uniqueIDs = new Array(playersCount);
                let jsonPlayers = {
                    "entries": LeaderboardEntriesText,
                    "ranks": null,
                    "photos": photos,
                    "names": mames,
                    "scores": scores,
                    "uniqueIDs": uniqueIDs
                };
                return jsonPlayers;
            }

            function Review() { }

            function PromptShow() { }

            function PaintRBT(rbt) { }

            function StaticRBTDeactivate() { }
            var cloudSaves = 'noData';

            function SaveCloud(jsonData, flush) { }

            function LoadCloud(sendback) { }
            var environmentData = 'null';

            function RequestingEnvironmentData(sendback) { }
            var playerData = 'noData';

            function InitPlayer(sendback) { }

            function NotAuthorized() {
                let authJson = {
                    "playerAuth": "rejected",
                    "playerName": "unauthorized",
                    "playerId": "unauthorized",
                    "playerPhoto": "null"
                };
                return JSON.stringify(authJson);
            }

            function OpenAuthDialog() { }
            var canvas = document.querySelector("#unity-canvas");
            var config = {
                dataUrl: "Build/yandexBrotli.data.unityweb",
                frameworkUrl: "Build/yandexBrotli.framework.js.unityweb",
                codeUrl: "Build/yandexBrotli.wasm.unityweb",
                streamingAssetsUrl: "StreamingAssets",
                companyName: "Survival",
                productName: "Survival Race",
                productVersion: "0.0.15",
            };
            var scaleToFit;
            try {
                scaleToFit = !!JSON.parse("true");
            } catch (e) {
                scaleToFit = true;
            }

            function progressHandler(progress) {
                var percent = progress * 100 + '%';
                canvas.style.background = 'linear-gradient(to right, white, white ' + percent + ', transparent ' + percent + ', transparent) no-repeat center';
                canvas.style.backgroundSize = '100% 1rem';
            }

            function onResize() {
                var container = canvas.parentElement;
                var w;
                var h;
                if (scaleToFit) {
                    w = window.innerWidth;
                    h = window.innerHeight;
                    var r = 540 / 960;
                    if (w * r > window.innerHeight) {
                        w = Math.min(w, Math.ceil(h / r));
                    }
                    h = Math.floor(w * r);
                } else {
                    w = 960;
                    h = 540;
                }
                container.style.width = canvas.style.width = w + "px";
                container.style.height = canvas.style.height = h + "px";
                container.style.top = Math.floor((window.innerHeight - h) / 2) + "px";
                container.style.left = Math.floor((window.innerWidth - w) / 2) + "px";
            }
            var gameInstance;
            createUnityInstance(canvas, config, progressHandler).then(function (instance) {
                canvas = instance.Module.canvas;
                onResize();
                gameInstance = instance;
            });
            window.addEventListener('resize', onResize);
            onResize();
        </script>
    </div>
    <script defer
        src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
        integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
        data-cf-beacon='{"rayId":"8de925b12e220c0f","serverTiming":{"name":{"cfExtPri":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2024.10.4","token":"c843b8c381814d58b40d4597a1bf7962"}'
        crossorigin="anonymous"></script>
</body>

</html>